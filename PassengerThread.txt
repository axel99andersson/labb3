package Threads;

import java.util.Random;
import lift.*;
import monitor.LiftMonitor;


public class PassengerThread extends Thread {
	private LiftView view;
	private LiftMonitor mon;
	private Random rand;
	
	public PassengerThread(LiftView view, LiftMonitor mon) {
		this.view = view;
		this.mon = mon;
		rand = new Random();
	}
	
	@Override
	public void run() {
		try {
		Thread.sleep(rand.nextInt(45000));
		Passenger pass = view.createPassenger();
		
		pass.begin();
		mon.passengerWaiting(pass.getStartFloor());
		mon.passengerEntry(pass);
		pass.enterLift();
		mon.passengerEntered(pass);
		
		mon.passengerExit(pass);
		pass.exitLift();
		mon.passengerExited(pass);
		pass.end();
		
		
		} catch (InterruptedException e) {
			e.printStackTrace();
			throw new Error("Exception in Passenger-thread!", e);
		}
	}
}